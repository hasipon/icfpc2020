# VisualLogマニュアル

VisualLogは、フレームベースの時系列を持つベクター画像アニメーションファイルです。

## 用途
想定用途はプログラムのデバッグ用途です。プログラムの動作内容をVisualLogへ出力して可視化しながら実装することで、正しくない動作や改善点の発見がしやすくなります。

## VisualLog Writer の機能

### ステップ
writerの以下の関数を呼び出すことで、フレームを進めます。

* `step()` : 時間を1フレーム進める
* `skip(n:uint32)` : 時間を `n` フレーム進める

### レイヤー
すべてのコマンドは、レイヤーに対して発行されます。
あるレイヤーに対して発行されたすべてコマンドはそのレイヤーのクリアによって取り消されます。

### エントリ
レイヤーに対するコマンドのグループです。

一つのエントリは以下の情報からなります。

* 現在の直前のエントリからの経過フレーム数(0以上)
* 対象のレイヤー(0以上)
* エントリの開始直前にレイヤーのクリアを行うか。
* コマンドの配列

### コマンド
コマンドは、指定したレイヤーの現在のフレームに対して処理を行います。
TODO:

### 終了
VisualLogはプログラムのデバッグを主用途とするため、データの書き込み中にプログラム途中終了した場合でも、書き込みが完了したエントリまでの情報でログの描画を行うことをサポートします。

ただし、その場合、フレーム数、エントリ数、バイト数、テクスチャ要求の有無などの情報の書き込みがされないため、これらの情報の高速な取得はできません。

writerのfinish関数を呼び出すことで、これらの情報を確定させることが可能です。

* `finish()` : このログへの書き込みを終了し、フレーム数、エントリ数、バイト数、テクスチャ要求の有無を確定させる。

### グローバル設定値
#### 画面幅/高さ
#### 背景色
#### FPS

### 状態値

#### パスの開始点
`LINE TO` コマンドの始点となる座標です。

デフォルト値: `(0, 0)`

#### ブレンドモード
デフォルト値: `Normal`

#### フォント名
TODO:

### テクスチャ
VisualLogには、テクスチャ名を指定して描画を行う機能がありますが、VisualLogファイル自体にテクスチャを埋め込む機能はありません。
ビジュアライザに対して何らかの方法でテクスチャ名とテクスチャの対応を与えてください。



## 実装
### HTML版ビジュアライザ
* [ソース](../../impl/haxe/visualizer.js)
    * [デモ](https://shohei909.github.io/VisualLog/sample/sort/)

### ライブラリ
* [Haxe](../../impl/haxe/lib)

